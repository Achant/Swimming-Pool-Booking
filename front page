<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Swimming Pool Booking</title>

    <style>

        body {

            font-family: 'Arial', sans-serif;

            background-color: #e0f7fa;

            margin: 0;

            padding: 0;

        }

        .container {

            max-width: 800px;

            margin: 50px auto;

            padding: 20px;

            background-color: #ffffff;

            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);

            border-radius: 10px;

        }

        header {

            text-align: center;

            margin-bottom: 20px;

        }

        .logo {

            width: 100px;

            height: auto;

        }

        h1 {

            color: #007BFF;

            font-size: 2em;

            margin: 10px 0 0 0;

        }

        form {

            display: flex;

            flex-direction: column;

        }

        label {

            margin-top: 10px;

            color: #007BFF;

            font-weight: bold;

        }

        input {

            padding: 10px;

            margin-top: 5px;

            border: 1px solid #ccc;

            border-radius: 5px;

            font-size: 1em;

        }

        button {

            margin-top: 20px;

            padding: 10px;

            background-color: #007BFF;

            color: #fff;

            border: none;

            border-radius: 5px;

            cursor: pointer;

            font-size: 1em;

            transition: background-color 0.3s ease;

        }

        button:hover {

            background-color: #0056b3;

        }

        #confirmation {

            margin-top: 20px;

            padding: 20px;

            background-color: #e0ffe0;

            border: 1px solid #b0ffb0;

            border-radius: 5px;

            white-space: pre-line;

        }

        #calendar {

            margin-top: 20px;

        }

        #bookingList {

            list-style-type: none;

            padding: 0;

        }

        #bookingList li {

            padding: 10px;

            background-color: #f9f9f9;

            border: 1px solid #ddd;

            margin-top: 5px;

            border-radius: 5px;

        }

    </style>

</head>

<body>

    <div class="container">

        <header>

            <img src="swimming_pool_logo.png" alt="Swimming Pool Logo" class="logo" />

            <h1>Swimming Pool Booking</h1>

        </header>

        <form id="bookingForm">

            <label for="name">Booker's Name:</label>

            <input type="text" id="name" name="name" required />

            <label for="fromDate">From Date and Time:</label>

            <input type="datetime-local" id="fromDate" name="fromDate" required />

            <label for="toDate">To Date and Time:</label>

            <input type="datetime-local" id="toDate" name="toDate" required />

            <label for="adults">Number of Adults:</label>

            <input type="number" id="adults" name="adults" min="1" max="12" required />

            <label for="children">Number of Children:</label>

            <input type="number" id="children" name="children" min="0" max="12" required />

            <div id="supervisorSection" style="display: none;">

                <label for="supervisor">Supervisor's Name:</label>

                <input type="text" id="supervisor" name="supervisor" />

            </div>

            <button type="submit">Book Now</button>

        </form>

        <div id="confirmation" style="display: none;">

            <h2>Booking Confirmation</h2>

            <p id="confirmationMessage"></p>

        </div>

        <div id="calendar">

            <h2>Booking Calendar</h2>

            <ul id="bookingList"></ul>

        </div>

    </div>

    <script>

        const bookings = [];

        document.getElementById('bookingForm').addEventListener('submit', function(event) {

            event.preventDefault();

            const name = document.getElementById('name').value.trim();

            const fromDateInput = document.getElementById('fromDate').value;

            const toDateInput = document.getElementById('toDate').value;

            const adults = parseInt(document.getElementById('adults').value, 10);

            const children = parseInt(document.getElementById('children').value, 10);

            const supervisor = document.getElementById('supervisor').value.trim();

            if (!fromDateInput || !toDateInput) {

                alert('Please fill in valid dates.');

                return;

            }

            const fromDate = new Date(fromDateInput);

            const toDate = new Date(toDateInput);

            if (toDate <= fromDate) {

                alert('The "To" date/time must be after the "From" date/time.');

                return;

            }

            const timeDifference = (toDate - fromDate) / (100 *  * 0); // Difference in hours

            if (timeDifference > 2) {

                alert('Booking time cannot exceed 2 hours.');

                return;

            }

            if (children > 0 && !supervisor) {

                alert("Please provide a supervisor's name for the children.");

                return;

            }

            // Check for overlapping bookings

            for (const booking of bookings) {

                if (

                    (fromDate >= booking.fromDate && fromDate < booking.toDate) ||

                    (toDate > booking.fromDate && toDate <= booking.toDate) ||

                    (fromDate <= booking.fromDate && toDate >= booking.toDate)

                ) {

                    alert('This time slot is already booked. Please choose another date or time.');

                    return;

                }

            }

            const newBooking = {

                name,

                fromDate,

                toDate,

                adults,

                children,

                supervisor

            };

            bookings.push(newBooking);

            bookings.sort((a, b) => a.fromDate - b.fromDate);

            displayBookings();

            let confirmationMessage = `Booking Details:

- Booker's Name: ${name}

- From: ${fromDate.toLocaleString()}

- To: ${toDate.toLocaleString()}

- Number of Adults: ${adults}

- Number of Children: ${children}`;

            if (children > 0) {

                confirmationMessage += `\n- Supervisor's Name: ${supervisor}`;

            }

            document.getElementById('confirmationMessage').innerText = confirmationMessage;

            document.getElementById('confirmation').style.display = 'block';

            this.reset();

            document.getElementById('supervisorSection').style.display = 'none';

        });

        document.getElementById('children').addEventListener('input', function () {

            const children = parseInt(this.value, 10);

            const supervisorSection = document.getElementById('supervisorSection');

            if (children > 0) {

                supervisorSection.style.display = 'block';

            } else {

                supervisorSection.style.display = 'none';

                document.getElementById('supervisor').value = '';

            }

        });

        function displayBookings() {

            const bookingList = document.getElementById('bookingList');

            bookingList.innerHTML = '';

            for (const booking of bookings) {

                const listItem = document.createElement('li');

                listItem.textContent = `${booking.name} - From: ${booking.fromDate.toLocaleString()} To: ${booking.toDate.toLocaleString()}`;

                bookingList.appendChild(listItem);

            }

        }

    </script>

</body>

</html>
